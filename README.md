# Backend Engineering: Threading & Processing Tasks

## مقدمة
في هذا المشروع، استعرضنا طرق مختلفة لإدارة وتنفيذ مهام تحميل صور من الإنترنت باستخدام Python، من الكود المتسلسل (Synchronous) البسيط، وصولًا إلى Thread Pools وProcess Pools. الهدف كان فهم الفرق بين **threads** و **processes**، وكيفية استخدام كل طريقة بشكل آمن وفعّال لتسريع تحميل الملفات.

---

## 1️⃣ الكود المتسلسل (Synchronous Code)

في البداية، استخدمنا **فور لووب** لتحميل كل صورة واحدة تلو الأخرى:

- **الطريقة:** لكل رابط، نرسل طلب HTTP ونحفظ الصورة، واحد تلو الآخر.
- **المميزات:** بسيط جدًا وسهل الفهم.
- **العيوب:** بطيء جدًا، خاصة لو الروابط كثيرة.
- **وقت التنفيذ التجريبي:** ~ 23.83 ثانية

> **Task Manager:** يظهر فقط **عملية واحدة** تعمل أثناء التحميل.

---

## 2️⃣ الكود باستخدام Threads

بعد ذلك، استخدمنا **thread لكل رابط**:

- **الطريقة:** لكل رابط، فتحنا Thread جديد يحمل الصورة.
- **المميزات:** أسرع من الكود المتسلسل، مناسب للمهام I/O-bound مثل تحميل الملفات.
- **العيوب:** فتح عدد كبير جدًا من threads قد يستهلك ذاكرة النظام.
- **وقت التنفيذ التجريبي:** ~3.82 ثواني.

> **Task Manager:** يظهر البرنامج كعملية واحدة، لكن يمكن رؤية استخدام أعلى للبروسيسور عند فتح عدد كبير من الثريدز.

---

## 3️⃣ الكود باستخدام Thread Pool

للتغلب على مشكلة عدد كبير من threads، استخدمنا **Thread Pool يدوي**:

- **الطريقة:** حددنا عدد محدد من الثريدز ( 5 )، وكل thread يأخذ مهمة من **Queue**.
- **المميزات:** يقلل من استهلاك الموارد، يتحكم في عدد threads العاملة.
- **الوقت التجريبي:** ~5.91 ثانية عند استخدام threads.
- **Task Manager:** يظهر البرنامج كعملية واحدة، مع توزيع العمل على ال 5 ثريدز

---

## 4️⃣ الكود باستخدامProcess

بعدها جربنا **Process لكل رابط**:

- **الطريقة:** لكل رابط، فتحنا Process جديد لتحميل الصورة.
- **المميزات:** كل process مستقل، مثالي للمهام CPU-bound.
- **العيوب:** فتح عدد كبير جدًا من processes يستهلك الذاكرة بسرعة.
- **وقت التنفيذ التجريبي:** ~4.35 ثانية
- **Task Manager:** يظهر عدد كبير من العمليات (بروسيس) بنفس الوقت حسب عدد الروابط.

---

## 5️⃣ الكود باستخدام Process Pool

وأخيرًا، استخدمنا **Process Pool يدوي**:

- **الطريقة:** حددنا عدد محدود من البروسيس ( 5 )، وكل Process يأخذ مهمة من Queue حتى تنتهي كل المهام.
- **المميزات:** يحافظ على استهلاك الذاكرة منخفض، مع استغلال قدرات المعالج بالكامل.
- **وقت التنفيذ التجريبي:** ~6.27 ثانية .
- **Task Manager:** يظهر عدد محدود من العمليات فقط ( 5 )، مما يوضح التحكم الجيد في الموارد.

---
###
![alt text](assests\image.png)